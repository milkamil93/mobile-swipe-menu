/**
 * @package        mobile-swipe-menu
 * @version        2.2.3
 * @description    Swipe Menu with Vanilla JS for mobile
 * @author         milkamil93
 * @copyright      2021 mobile-swipe-menu
 * @license        GPL-3.0
 * @link           https://github.com/milkamil93/mobile-swipe-menu
*/!function(i){var n={};function o(t){if(n[t])return n[t].exports;var e=n[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,o),e.l=!0,e.exports}o.m=i,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=3)}([function(t,e){t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,e){function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t},t.exports.default=t.exports,t.exports.__esModule=!0},function(t,i,n){"use strict";n.r(i);var o=n(1),h=n.n(o),i=n(2),o=n.n(i),i=n(0),l=n.n(i),s=(o()(r,[{key:"set",value:function(t,e){this[t]=e}},{key:"get",value:function(t){return this[t]}},{key:"eventListener",value:function(t){t.addEventListener("mousedown",this.handleTouchStart.bind(this)),t.addEventListener("touchstart",this.handleTouchStart.bind(this)),t.addEventListener("mousemove",this.handleTouchMove.bind(this)),t.addEventListener("touchmove",this.handleTouchMove.bind(this),{passive:!1}),t.addEventListener("mouseup",this.handleTouchEnd.bind(this)),t.addEventListener("touchend",this.handleTouchEnd.bind(this))}},{key:"getTouches",value:function(t){var i={offsetX:0,offsetY:0},t=t.touches?t.touches[0]:!!t.originalEvent&&t.originalEvent.touches[0];return t?(i.offsetX=Math.round(t.clientX),i.offsetY=Math.round(t.clientY)):(i.offsetX=Math.round(e.clientX),i.offsetY=Math.round(e.clientY)),i}},{key:"handleTouchStart",value:function(t){var e=this.getTouches(t);this.set("inWork",!0),this.set("xDown",e.offsetX),this.set("yDown",e.offsetY),this.set("xStart",e.offsetX),this.set("yStart",e.offsetY),this.start(t)}},{key:"handleTouchMove",value:function(t){if(!this.get("inWork"))return!1;var e=this.getTouches(t);this.set("xCurrent",e.offsetX-this.get("xStart")),this.set("yCurrent",e.offsetY-this.get("yStart"));var i=this.get("xDown")-e.offsetX,e=this.get("yDown")-e.offsetY;if(this.get("currentDirection")||this.setDirection(t,i,e),this.drag(t),!this.get("xDown")||!this.get("yDown"))return!1;this.setDirection(t,i,e),this.set("xDown",null),this.set("yDown",null)}},{key:"setDirection",value:function(t,e,i){Math.abs(e)>=Math.abs(i)?0<e?(this.set("currentDirection","left"),this.left(t)):(this.set("currentDirection","right"),this.right(t)):0<i?(this.set("currentDirection","up"),this.up(t)):(this.set("currentDirection","down"),this.down(t))}},{key:"handleTouchEnd",value:function(t){this.set("inWork",!1),this.stop(t)}},{key:"drag",value:function(t){t.target.style.transition="none",t.target.style.transform="translate(".concat(this.get("xCurrent"),"px, ").concat(this.get("yCurrent"),"px)")}},{key:"left",value:function(t){}},{key:"right",value:function(t){}},{key:"up",value:function(t){}},{key:"down",value:function(t){}},{key:"start",value:function(t){}},{key:"stop",value:function(t){}}]),r),o=(o()(u,[{key:"_connectElement",value:function(t){this._element="string"==typeof t?document.querySelector(t):t,this._element.style.height="100%",this._element.style.top="0",this._element.style.zIndex="1000",this._element.style.position="fixed",this._element.style.willChange="transform",this._windowWidth=window.innerWidth-this._getScrollWidth(),this.setWidth(this._width||this._windowWidth)}},{key:"_createHook",value:function(){var t=document.createElement("div"),e=this._useHookWidthPercentage?this._windowWidth*this._hookWidth/100:this._hookWidth;t.style.width=e+"px",t.style.height="100%",t.style.top="0",t.style.position="absolute",t.style.cursor="pointer","right"===this._mode?t.style.left="-".concat(e,"px"):t.style.right="-".concat(e,"px"),this._element.append(t)}},{key:"_openRightMenu",value:function(){this._transition(),this._element.style.transform="translateX(-".concat(this._width,"px)"),this._isOpened=!0,this._events.opened.bind(this)()}},{key:"_closeRightMenu",value:function(){this._transition(),this._element.style.transform="translateX(0px)",this._isOpened=!1,this._events.closed.bind(this)()}},{key:"_openLeftMenu",value:function(){this._transition(),this._element.style.transform="translateX(".concat(this._width,"px)"),this._isOpened=!0,this._events.opened.bind(this)()}},{key:"_closeLeftMenu",value:function(){this._transition(),this._element.style.transform="translateX(0px)",this._isOpened=!1,this._events.closed.bind(this)()}},{key:"_transition",value:function(){var t=this;this._element.style.transitionDuration="300ms",setTimeout(function(){t._element.style.transitionDuration="0ms"},200)}},{key:"_init",value:function(){var n=this,o=this._element,t=this._enableBodyHook?document.body:this._element;t.style.cursor="auto",t.style["touch-action"]="pan-y",t.style["-ms-touch-action"]="pan-y";t=new s(t);t.start=function(t){if(n.lock&&!n._isOpened)return!1;var e=new WebKitCSSMatrix(getComputedStyle(o).transform).m41,t=this.getTouches(t).offsetX;e&&this.set("xStart",t-e),n._events.start.bind(n)(this)},t.drag=function(t){if(n.lock&&!n._isOpened)return!1;0<=["left","right"].indexOf(this.currentDirection)&&"touchmove"===t.type&&(t.stopImmediatePropagation(),t.stopPropagation(),t.cancelable&&t.preventDefault()),n._events.drag.bind(n)(this);var e=this.get("xCurrent"),i=Math.floor(o.getBoundingClientRect().left)-(n._windowWidth-n._width);if("right"===n._mode)switch(this.currentDirection){case"left":n._width>=i&&(-e>n._width?e=-n._width:0<e&&(e=0),o.style.transform="translateX(".concat(e,"px)"));break;case"right":n._windowWidth>i&&(-e<0?e=0:-e>n._width&&(e=-n._width),o.style.transform="translateX(".concat(e,"px)"))}else if("left"===n._mode)switch(this.currentDirection){case"right":i<0&&(e>n._width?e=n._width:e<=0&&(e=0),o.style.transform="translateX(".concat(e,"px)"));break;case"left":e>=n._width?e=n._width:e<0&&(e=0),o.style.transform="translateX(".concat(e,"px)")}},t.stop=function(){if(n.lock&&!n._isOpened)return!1;var t=Math.floor(o.getBoundingClientRect().left);if("right"===n._mode)switch(t-=n._windowWidth-n._width,this.currentDirection){case"left":t<n._width?t<n._width-30?n._openRightMenu():n._closeRightMenu():o.style.transform="translateX(0px)";break;case"right":0<t?30<t?n._closeRightMenu():n._openRightMenu():o.style.transform="translateX(-".concat(n._width,"px)")}else if("left"===n._mode)switch(this.currentDirection){case"right":-t<n._width?-t<n._width-30?n._openLeftMenu():n._closeLeftMenu():o.style.transform="translateX(0px)";break;case"left":t<0?t<-30?n._closeLeftMenu():n._openLeftMenu():o.style.transform="translateX(".concat(n._width,"px)")}n._events.stop.bind(n)(this)}}},{key:"_getScrollWidth",value:function(){var t,e=this._scrollWidth;return!1===e&&((t=document.createElement("div")).style.overflowY="scroll",t.style.width="50px",t.style.height="50px",document.body.append(t),this._scrollWidth=t.offsetWidth-t.clientWidth,t.remove()),e}},{key:"open",value:function(){this.openMenu()}},{key:"openMenu",value:function(){"right"===this._mode?this._openRightMenu():this._openLeftMenu()}},{key:"close",value:function(){this.closeMenu()}},{key:"closeMenu",value:function(){"right"===this._mode?this._closeRightMenu():this._closeLeftMenu()}},{key:"toggle",value:function(){this.toggleMenu()}},{key:"toggleMenu",value:function(){this._isOpened?this.closeMenu():this.openMenu()}},{key:"disableSwipe",value:function(){this.lock=!0}},{key:"enableSwipe",value:function(){this.lock=!1}},{key:"setWidth",value:function(){this._width=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,this._element.style.width=this._width+"px",this._element.style[this._mode]=-this._width+"px"}}]),u);function u(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};h()(this,u),l()(this,"_mode",void 0),l()(this,"lock",!1),l()(this,"_width",void 0),l()(this,"_hookWidth",void 0),l()(this,"_useHookWidthPercentage",void 0),l()(this,"_enableBodyHook",void 0),l()(this,"_scrollWidth",!1),l()(this,"_isOpened",!1),l()(this,"_events",void 0),l()(this,"_element",void 0),l()(this,"_windowWidth",void 0);var i=e.mode,n=e.width,o=void 0===n?0:n,s=e.hookWidth,r=void 0===s?30:s,n=e.useHookWidthPercentage,s=void 0!==n&&n,n=e.enableBodyHook,n=void 0!==n&&n,e=e.events,e=void 0===e?{}:e;this._mode=void 0===i?"right":i,this._width=o,this._hookWidth=r,this._useHookWidthPercentage=s,this._enableBodyHook=n,this._events=Object.assign({start:function(){},stop:function(){},opened:function(){},closed:function(){},drag:function(){}},e),this._connectElement(t),n||this._createHook(),this._init()}function r(t){h()(this,r),l()(this,"inWork",void 0),l()(this,"xDown",void 0),l()(this,"yDown",void 0),l()(this,"xStart",void 0),l()(this,"yStart",void 0),l()(this,"xCurrent",void 0),l()(this,"yCurrent",void 0),l()(this,"currentDirection",void 0),this.inWork=!1,this.xDown=null,this.yDown=null,this.xStart=null,this.yStart=null,this.xCurrent=null,this.yCurrent=null,this.currentDirection=null,"string"==typeof t?document.querySelectorAll(t).forEach(this.eventListener.bind(this)):this.eventListener(t)}window.MobileSwipeMenu=o}]);